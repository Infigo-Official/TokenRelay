meta {
  name: Proxy to OAuth API - Client Credentials
  type: http
  seq: 2
}

get {
  url: {{tokenrelay_url}}/proxy/users
  body: none
  auth: none
}

headers {
  TOKEN-RELAY-TARGET: oauth-test-client-creds
  TOKEN-RELAY-AUTH: {{tokenrelay_auth_token}}
}

docs {
  # TokenRelay OAuth Proxy - Client Credentials Grant

  This request demonstrates TokenRelay's automatic OAuth token acquisition using the client credentials grant flow.

  ## How It Works
  TokenRelay automatically:
  1. Requests a token using client credentials (no username/password)
  2. Caches the token
  3. Injects it into your request

  ## Configuration
  The `oauth-test-client-creds` target uses:
  ```json
  {
    "authType": "oauth",
    "authData": {
      "grant_type": "client_credentials",
      "client_id": "test_client_1",
      "client_secret": "test_secret_1",
      "scope": "read"
    }
  }
  ```

  ## Use Case
  Client credentials grant is ideal for:
  - Service-to-service communication
  - Backend jobs
  - Machine-to-machine authentication
  - No user context required
}
